{
  "guild": {
    "id": "484437221055922177",
    "name": "Mina Protocol",
    "iconUrl": "https://cdn.discordapp.com/icons/484437221055922177/60f5907d2f7e3804b704a7153cae7768.png?size=512"
  },
  "channel": {
    "id": "1088851113530380408",
    "type": "GuildPublicThread",
    "categoryId": "1047214314349658172",
    "category": "zkapps-questions",
    "name": "ReferenceError: self is not defined",
    "topic": null
  },
  "dateRange": {
    "after": null,
    "before": null
  },
  "exportedAt": "2025-04-24T16:50:58.3690337+04:00",
  "messages": [
    {
      "id": "1088851113530380408",
      "type": "Default",
      "timestamp": "2023-03-24T19:45:35.341+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Creating a toy project, see code here:\nhttps://github.com/techiejd/posi-mina\n\nI created the app using  `zk project` and followed the steps for a nextjs project.\n\nNow, I'm having issues getting my contract to be referenced in my ui.\nI'm importing the vanilla Add contract in https://github.com/techiejd/posi-mina/blob/main/ui/modules/admin.page.tsx .\n\nI used `nmp link` like explained in https://docs.minaprotocol.com/zkapps/how-to-write-a-zkapp-ui.\n\nHowever, I'm getting some kind of web pack error from snarkyjs:\nerror - ReferenceError: self is not defined\n    at eval (webpack-internal:///./node_modules/snarkyjs/dist/web/index.js:71:3065)\n    at eval (webpack-internal:///./node_modules/snarkyjs/dist/web/index.js:68:210)\n    at eval (webpack-internal:///./node_modules/snarkyjs/dist/web/index.js:2301:459)\n    at Object../node_modules/snarkyjs/dist/web/index.js (/Users/user/posi/ui/.next/server/pages/index.js:192:1)\n\nStack trace in note.",
      "author": {
        "id": "755303987883933800",
        "name": "_jd_3179",
        "discriminator": "0000",
        "nickname": "_jd_3179",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/1.png"
      },
      "attachments": [
        {
          "id": "1088851113740091533",
          "url": "https://cdn.discordapp.com/attachments/1088851113530380408/1088851113740091533/message.txt?ex=680b055f&is=6809b3df&hm=5ac64e645955b46e74eb168ab12a736a03657992f595ddd4c7775dbe56bf4d1f&",
          "fileName": "message.txt",
          "fileSizeBytes": 6453
        }
      ],
      "embeds": [
        {
          "title": "GitHub - techiejd/posi-mina",
          "url": "https://github.com/techiejd/posi-mina",
          "timestamp": null,
          "description": "Contribute to techiejd/posi-mina development by creating an account on GitHub.",
          "color": "#1E2327",
          "thumbnail": {
            "url": "https://images-ext-1.discordapp.net/external/ThOPsGJeRdoqsaOPpMfdVDLxewG7C7-aBrdS0U_C7s8/https/opengraph.githubassets.com/2b7d418f261aa4d4ccf7462854b72e7b74241d91d0ae5c482f86a882a267bb0a/techiejd/posi-mina",
            "width": 1200,
            "height": 600
          },
          "images": [],
          "fields": []
        },
        {
          "title": "posi-mina/admin.page.tsx at main · techiejd/posi-mina",
          "url": "https://github.com/techiejd/posi-mina/blob/main/ui/modules/admin.page.tsx",
          "timestamp": null,
          "description": "Contribute to techiejd/posi-mina development by creating an account on GitHub.",
          "color": "#1E2327",
          "thumbnail": {
            "url": "https://images-ext-1.discordapp.net/external/ThOPsGJeRdoqsaOPpMfdVDLxewG7C7-aBrdS0U_C7s8/https/opengraph.githubassets.com/2b7d418f261aa4d4ccf7462854b72e7b74241d91d0ae5c482f86a882a267bb0a/techiejd/posi-mina",
            "width": 1200,
            "height": 600
          },
          "images": [],
          "fields": []
        }
      ],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "301752126491721730",
              "name": "blockbeard",
              "discriminator": "0000",
              "nickname": "angus_m",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/301752126491721730/0a8d7f37a46cb3c2ca757f772e60e497.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1088951488912556052",
      "type": "Default",
      "timestamp": "2023-03-25T02:24:26.697+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Try to import the Add contract dynamically in the deploy posi method ie const { Add } = await import('pos');   https://github.com/techiejd/posi-mina/blob/main/ui/modules/admin.page.tsx#L23",
      "author": {
        "id": "454379078850707466",
        "name": "ymekuria",
        "discriminator": "0000",
        "nickname": "ymekuria",
        "color": "#206694",
        "isBot": false,
        "roles": [
          {
            "id": "595716565014675466",
            "name": "o1 Labs",
            "color": "#206694",
            "position": 131
          },
          {
            "id": "1300439738003619890",
            "name": "o1 Engineering",
            "color": "#00368B",
            "position": 130
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "1121063832555634799",
            "name": "zkIgnite Cohort 1",
            "color": "#F38705",
            "position": 97
          },
          {
            "id": "754653466344947782",
            "name": "QA Task Force",
            "color": "#B2F3B8",
            "position": 80
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/1.png"
      },
      "attachments": [],
      "embeds": [
        {
          "title": "posi-mina/admin.page.tsx at main · techiejd/posi-mina",
          "url": "https://github.com/techiejd/posi-mina/blob/main/ui/modules/admin.page.tsx",
          "timestamp": null,
          "description": "Contribute to techiejd/posi-mina development by creating an account on GitHub.",
          "color": "#1E2327",
          "thumbnail": {
            "url": "https://images-ext-1.discordapp.net/external/ThOPsGJeRdoqsaOPpMfdVDLxewG7C7-aBrdS0U_C7s8/https/opengraph.githubassets.com/2b7d418f261aa4d4ccf7462854b72e7b74241d91d0ae5c482f86a882a267bb0a/techiejd/posi-mina",
            "width": 1200,
            "height": 600
          },
          "images": [],
          "fields": []
        }
      ],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "301752126491721730",
              "name": "blockbeard",
              "discriminator": "0000",
              "nickname": "angus_m",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/301752126491721730/0a8d7f37a46cb3c2ca757f772e60e497.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1088951677178101881",
      "type": "Default",
      "timestamp": "2023-03-25T02:25:11.583+04:00",
      "timestampEdited": "2023-03-25T02:26:08.999+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "You could also try importing Add directly from contracts folder dynamically.",
      "author": {
        "id": "454379078850707466",
        "name": "ymekuria",
        "discriminator": "0000",
        "nickname": "ymekuria",
        "color": "#206694",
        "isBot": false,
        "roles": [
          {
            "id": "595716565014675466",
            "name": "o1 Labs",
            "color": "#206694",
            "position": 131
          },
          {
            "id": "1300439738003619890",
            "name": "o1 Engineering",
            "color": "#00368B",
            "position": 130
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "1121063832555634799",
            "name": "zkIgnite Cohort 1",
            "color": "#F38705",
            "position": 97
          },
          {
            "id": "754653466344947782",
            "name": "QA Task Force",
            "color": "#B2F3B8",
            "position": 80
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/1.png"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1089001422739222589",
      "type": "Default",
      "timestamp": "2023-03-25T05:42:51.849+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Good point. Thank you! I'll try this after I get back from dinner. Much appreciated.",
      "author": {
        "id": "755303987883933800",
        "name": "_jd_3179",
        "discriminator": "0000",
        "nickname": "_jd_3179",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/1.png"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1089347973248458852",
      "type": "Reply",
      "timestamp": "2023-03-26T04:39:55.929+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "BTW this dynamic import worked beautifully. Thank you!",
      "author": {
        "id": "755303987883933800",
        "name": "_jd_3179",
        "discriminator": "0000",
        "nickname": "_jd_3179",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/1.png"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDE4C",
            "code": "raised_hands",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64c.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "454379078850707466",
              "name": "ymekuria",
              "discriminator": "0000",
              "nickname": "ymekuria",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/embed/avatars/1.png"
            }
          ]
        }
      ],
      "mentions": [
        {
          "id": "454379078850707466",
          "name": "ymekuria",
          "discriminator": "0000",
          "nickname": "ymekuria",
          "color": "#206694",
          "isBot": false,
          "roles": [
            {
              "id": "595716565014675466",
              "name": "o1 Labs",
              "color": "#206694",
              "position": 131
            },
            {
              "id": "1300439738003619890",
              "name": "o1 Engineering",
              "color": "#00368B",
              "position": 130
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "1121063832555634799",
              "name": "zkIgnite Cohort 1",
              "color": "#F38705",
              "position": 97
            },
            {
              "id": "754653466344947782",
              "name": "QA Task Force",
              "color": "#B2F3B8",
              "position": 80
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/embed/avatars/1.png"
        }
      ],
      "reference": {
        "messageId": "1088951488912556052",
        "channelId": "1088851113530380408",
        "guildId": "484437221055922177"
      }
    }
  ],
  "messageCount": 5
}