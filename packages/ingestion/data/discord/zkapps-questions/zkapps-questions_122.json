{
  "guild": {
    "id": "484437221055922177",
    "name": "Mina Protocol",
    "iconUrl": "https://cdn.discordapp.com/icons/484437221055922177/60f5907d2f7e3804b704a7153cae7768.png?size=512"
  },
  "channel": {
    "id": "1279642144130203659",
    "type": "GuildPublicThread",
    "categoryId": "1047214314349658172",
    "category": "zkapps-questions",
    "name": "Exponentiaton w/ UInt32",
    "topic": null
  },
  "dateRange": {
    "after": null,
    "before": null
  },
  "exportedAt": "2025-04-23T16:45:03.2613032+04:00",
  "messages": [
    {
      "id": "1279642144130203659",
      "type": "Default",
      "timestamp": "2024-09-01T07:21:01.762+04:00",
      "timestampEdited": "2024-09-02T01:28:56.221+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Hey, are there any implementations for exponentiation with uint32 variables like `a ^ b`?\n\nI'm trying to convert a UInt32[] state array to little-endian byte order.\n\nThanks!",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "198156712417427456",
              "name": "chief_oftailorz",
              "discriminator": "0000",
              "nickname": "şef",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/198156712417427456/dc51db32a22032b12100afdf9f1981af.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1279833735294091316",
      "type": "Default",
      "timestamp": "2024-09-01T20:02:20.655+04:00",
      "timestampEdited": "2024-09-01T21:28:55.084+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I guess XOR bitwise operation similar to C? \uD83E\uDD14",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1279856696713281586",
      "type": "Default",
      "timestamp": "2024-09-01T21:33:35.084+04:00",
      "timestampEdited": "2024-09-01T21:34:22.561+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "```typescript\nimport { UInt32 } from 'o1js';\n\n// Function to perform modular exponentiation\nfunction modExp(base: UInt32, exponent: UInt32, modulus: UInt32): UInt32 {\n    let result = UInt32.from(1);\n    let baseMod = base.mod(modulus);\n\n    // Convert UInt32 to BigInt for calculations\n    let exp = exponent.toBigint();\n    const mod = modulus.toBigint();\n\n    while (exp > 0n) {\n        if (exp % 2n === 1n) { // If exponent is odd\n            result = result.mul(baseMod).mod(modulus);\n        }\n        baseMod = baseMod.mul(baseMod).mod(modulus);\n        exp = exp >> 1n; // Divide exponent by 2 using BigInt bitwise right shift\n    }\n\n    return result;\n}\n\n// Example usage\nconst base = UInt32.from(2);\nconst exponent = UInt32.from(10);\nconst modulus = UInt32.from(1000);\n\nconst result = modExp(base, exponent, modulus);\nconsole.log(`Result: ${result.toString()}`);\n```",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1279883257210605599",
      "type": "Default",
      "timestamp": "2024-09-01T23:19:07.6+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Also I suppose there is no implementation of bitwise OR operation for UInt32?",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280001760852971694",
      "type": "Default",
      "timestamp": "2024-09-02T07:10:01.07+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "You can only do bitwise operations on Fields according to the documentation",
      "author": {
        "id": "810793675033673730",
        "name": "br0wn_d3v",
        "discriminator": "0000",
        "nickname": "br0wnD3v",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1297496671890047037",
            "name": "Protokit",
            "color": "#FFFFFF",
            "position": 16
          },
          {
            "id": "740299734341910689",
            "name": "Server Booster",
            "color": null,
            "position": 15
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280007313721131068",
      "type": "Default",
      "timestamp": "2024-09-02T07:32:04.977+04:00",
      "timestampEdited": "2024-09-02T07:35:30.506+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "here's what you can do  :\n```\nimport { Field, UInt32, Gadgets } from 'o1js';\n\nfunction modExp(base: UInt32, exponent: UInt32, modulus: UInt32): UInt32 {\n  let result = UInt32.from(1);\n  let baseMod = base.mod(modulus);\n\n  while (exponent.greaterThan(UInt32.from(0)).toBoolean()) {\n    if (exponent.mod(UInt32.from(2)).equals(UInt32.from(1)).toBoolean()) {\n      result = result.mul(baseMod).mod(modulus);\n    }\n    baseMod = baseMod.mul(baseMod).mod(modulus);\n\n    let tempExp = Field.from(exponent.toString());\n    tempExp = Gadgets.rightShift64(tempExp, 1);\n\n    exponent = UInt32.from(tempExp.toString());\n  }\n\n  return result;\n}\n\nexport default function main() {\n  const base = UInt32.from(2);\n  const exponent = UInt32.from(10);\n  const modulus = UInt32.from(1000);\n\n  const result = modExp(base, exponent, modulus);\n  console.log(`Result: ${result.toString()}`);\n}\n\nmain();\n```\n\nFor the example test case this prints 24 which is the right answer.",
      "author": {
        "id": "810793675033673730",
        "name": "br0wn_d3v",
        "discriminator": "0000",
        "nickname": "br0wnD3v",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1297496671890047037",
            "name": "Protokit",
            "color": "#FFFFFF",
            "position": 16
          },
          {
            "id": "740299734341910689",
            "name": "Server Booster",
            "color": null,
            "position": 15
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280008454387400725",
      "type": "Default",
      "timestamp": "2024-09-02T07:36:36.933+04:00",
      "timestampEdited": "2024-09-02T07:37:04.327+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "You just delegate back and forth when bitwise is required, although I am sure there should exist a better way but if not -this is your best workaround",
      "author": {
        "id": "810793675033673730",
        "name": "br0wn_d3v",
        "discriminator": "0000",
        "nickname": "br0wnD3v",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1297496671890047037",
            "name": "Protokit",
            "color": "#FFFFFF",
            "position": 16
          },
          {
            "id": "740299734341910689",
            "name": "Server Booster",
            "color": null,
            "position": 15
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280107503937392650",
      "type": "Reply",
      "timestamp": "2024-09-02T14:10:12.186+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Thank you @br0wnD3v. I get   ` rangeCheck32: expected field to fit in 32 bits, got 2546511946776576` when I try to use this function with modulus `UInt32.MAXINT()` like this: `d = modExp(d, a, UInt32.MAXINT());`",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "810793675033673730",
          "name": "br0wn_d3v",
          "discriminator": "0000",
          "nickname": "br0wnD3v",
          "color": "#FA7504",
          "isBot": false,
          "roles": [
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1150768164850913322",
              "name": "zkIgnite Cohort 2",
              "color": "#E97404",
              "position": 96
            },
            {
              "id": "1285544625037115557",
              "name": "MinaCon",
              "color": "#FAFFD6",
              "position": 25
            },
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            },
            {
              "id": "1297496671890047037",
              "name": "Protokit",
              "color": "#FFFFFF",
              "position": 16
            },
            {
              "id": "740299734341910689",
              "name": "Server Booster",
              "color": null,
              "position": 15
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1280007313721131068",
        "channelId": "1279642144130203659",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1280114688704778312",
      "type": "Default",
      "timestamp": "2024-09-02T14:38:45.168+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "this looks like a general error rather, did you try changing the result to UInt64?",
      "author": {
        "id": "810793675033673730",
        "name": "br0wn_d3v",
        "discriminator": "0000",
        "nickname": "br0wnD3v",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1297496671890047037",
            "name": "Protokit",
            "color": "#FFFFFF",
            "position": 16
          },
          {
            "id": "740299734341910689",
            "name": "Server Booster",
            "color": null,
            "position": 15
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280114800981966849",
      "type": "Default",
      "timestamp": "2024-09-02T14:39:11.937+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I think its the rightShift overflowing that's causing it",
      "author": {
        "id": "810793675033673730",
        "name": "br0wn_d3v",
        "discriminator": "0000",
        "nickname": "br0wnD3v",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1297496671890047037",
            "name": "Protokit",
            "color": "#FFFFFF",
            "position": 16
          },
          {
            "id": "740299734341910689",
            "name": "Server Booster",
            "color": null,
            "position": 15
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280129824752668755",
      "type": "Reply",
      "timestamp": "2024-09-02T15:38:53.883+04:00",
      "timestampEdited": "2024-09-02T15:39:13.444+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I'm implement an encryption algorithm in o1js and  the elements in the related vector/ matrix are 32-bit unsigned integers. What do you think would be the best practice after getting the value from `modExp()`?\n\na, b, c, d: all of them are UInt32\n\n```typescript\n// Step 1: a += b; d ^= a; d <<<= 16;\na = a.addMod32(b);\nd = modExp(d,a, UInt32.MAXINT())\nd = rotate(d, 16);\n```\n```typescript\nfunction modExp(base: UInt32, exponent: UInt32, modulus: UInt32): UInt64 {\n    let result = UInt32.from(1);\n    let baseMod = base.mod(modulus);\n  \n    while (exponent.greaterThan(UInt32.from(0)).toBoolean()) {\n      if (exponent.mod(UInt32.from(2)).equals(UInt32.from(1)).toBoolean()) {\n        result = result.mul(baseMod).mod(modulus);\n      }\n      baseMod = baseMod.mul(baseMod).mod(modulus);\n  \n      let tempExp = Field.from(exponent.toString());\n      tempExp = Gadgets.rightShift64(tempExp, 1);\n  \n      exponent = UInt32.from(tempExp.toString());\n    }\n  \n    return UInt64.from(result);\n  }\n```",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "810793675033673730",
          "name": "br0wn_d3v",
          "discriminator": "0000",
          "nickname": "br0wnD3v",
          "color": "#FA7504",
          "isBot": false,
          "roles": [
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1150768164850913322",
              "name": "zkIgnite Cohort 2",
              "color": "#E97404",
              "position": 96
            },
            {
              "id": "1285544625037115557",
              "name": "MinaCon",
              "color": "#FAFFD6",
              "position": 25
            },
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            },
            {
              "id": "1297496671890047037",
              "name": "Protokit",
              "color": "#FFFFFF",
              "position": 16
            },
            {
              "id": "740299734341910689",
              "name": "Server Booster",
              "color": null,
              "position": 15
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1280114800981966849",
        "channelId": "1279642144130203659",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1280133032262635653",
      "type": "Default",
      "timestamp": "2024-09-02T15:51:38.613+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "You might have to change the types of exponent and result both to UInt64, I will need to run it though and can share a working example later but I am not at home atm",
      "author": {
        "id": "810793675033673730",
        "name": "br0wn_d3v",
        "discriminator": "0000",
        "nickname": "br0wnD3v",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1297496671890047037",
            "name": "Protokit",
            "color": "#FFFFFF",
            "position": 16
          },
          {
            "id": "740299734341910689",
            "name": "Server Booster",
            "color": null,
            "position": 15
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC9C",
            "code": "purple_heart",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f49c.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "860489000699559956",
              "name": "d0x471b",
              "discriminator": "0000",
              "nickname": "Deniz",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1280145469191880855",
      "type": "Reply",
      "timestamp": "2024-09-02T16:41:03.808+04:00",
      "timestampEdited": "2024-09-02T16:41:06.097+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Here is what i've tried but the test interestingly fails:\n\n**Test Case**\n```typescript\n    it('should calculate quarter round correctly', async () => {\n        const key: UInt64[] = Array(8).fill(new UInt64(0));\n        const nonce: UInt64[] = Array(3).fill(new UInt64(0));\n        const counter = UInt64.from(0);\n\n        const chacha = new ChaChaState(key, nonce, counter);\n\n        chacha.state[0] = UInt64.from(0x11111111);\n        chacha.state[1] = UInt64.from(0x01020304);\n        chacha.state[2] = UInt64.from(0x9b8d6f43);\n        chacha.state[3] = UInt64.from(0x01234567);\n\n        ChaChaState.quarterRound(chacha.state, 0, 1, 2, 3);\n\n        const expectedState = [\n            UInt64.from(0xea2a92f4), // expected a\n            UInt64.from(0xcb1cf8ce), // expected b\n            UInt64.from(0x4581472e), // expected c\n            UInt64.from(0x5881c4bb), // expected d\n        ];\n\n        expect(toHex(chacha.state[0])).toBe(toHex(expectedState[0]));\n        expect(toHex(chacha.state[1])).toBe(toHex(expectedState[1]));\n        expect(toHex(chacha.state[2])).toBe(toHex(expectedState[2]));\n        expect(toHex(chacha.state[3])).toBe(toHex(expectedState[3]));\n    });\n```\n\n**Output**\n```\n  ✕ should calculate quarter round correctly (6 ms)\n\n  ● ChaCha › should calculate quarter round correctly\n\n    Expected: \"ea2a92f4\"\n    Received: \"f1062225415\"\n```",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "810793675033673730",
          "name": "br0wn_d3v",
          "discriminator": "0000",
          "nickname": "br0wnD3v",
          "color": "#FA7504",
          "isBot": false,
          "roles": [
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1150768164850913322",
              "name": "zkIgnite Cohort 2",
              "color": "#E97404",
              "position": 96
            },
            {
              "id": "1285544625037115557",
              "name": "MinaCon",
              "color": "#FAFFD6",
              "position": 25
            },
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            },
            {
              "id": "1297496671890047037",
              "name": "Protokit",
              "color": "#FFFFFF",
              "position": 16
            },
            {
              "id": "740299734341910689",
              "name": "Server Booster",
              "color": null,
              "position": 15
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1280133032262635653",
        "channelId": "1279642144130203659",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1280145574099816491",
      "type": "Default",
      "timestamp": "2024-09-02T16:41:28.82+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Here are the code snippets I've tried:\n\n**Modular Exponentiation Function w/ UInt64**\n```typescript\nfunction modExp(base: UInt64, exponent: UInt64, modulus: UInt64): UInt64 {\n    let result = UInt64.from(1);\n    let baseMod = base.mod(modulus);\n  \n    while (exponent.greaterThan(UInt64.from(0)).toBoolean()) {\n      if (exponent.mod(UInt64.from(2)).equals(UInt64.from(1)).toBoolean()) {\n        result = result.mul(baseMod).mod(modulus);\n      }\n      baseMod = baseMod.mul(baseMod).mod(modulus);\n  \n      let tempExp = Field.from(exponent.toString());\n      tempExp = Gadgets.rightShift64(tempExp, 1);\n  \n      exponent = UInt64.from(tempExp.toString());\n    }\n  \n    return result;\n  }```",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280145584749150249",
      "type": "Default",
      "timestamp": "2024-09-02T16:41:31.359+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "**Quarter Round Function w/ UInt64**\n```typescript\n    static quarterRound(state: UInt64[], aIndex: number, bIndex: number, cIndex: number, dIndex: number) {\n        if (state.length !== 16) {\n            throw new Error(\"Invalid ChaCha state length: expected 16 UInt32 elements.\");\n        }\n        // Rotate function used in the quarter-round operation.\n        const rotate = (value: UInt64, bits: number) =>\n            UInt64.fromFields([Gadgets.rotate64(value.toFields()[0], bits, 'left')]);\n\n        let [ax, bx, cx, dx] = [state[aIndex], state[bIndex], state[cIndex], state[dIndex]];\n        let a = UInt64.from(ax)\n        let b = UInt64.from(bx)\n        let c = UInt64.from(cx)\n        let d = UInt64.from(dx)\n\n        // Step 1: a += b; d ^= a; d <<<= 16;\n        a = a.add(b);\n        d = modExp(d,a, UInt64.from(UInt32.MAXINT()))\n        d = rotate(d, 16);\n\n        // Step 2: c += d; b ^= c; b <<<= 12;\n        c = c.add(d);\n        b = modExp(b, c, UInt64.from(UInt32.MAXINT()));\n        b = rotate(b, 12);\n\n        // Step 3: a += b; d ^= a; d <<<= 8;\n        a = a.add(b);\n        d = modExp(d, a, UInt64.from(UInt32.MAXINT()));\n        d = rotate(d, 8);\n\n        // Step 4: c += d; b ^= c; b <<<= 7;\n        c = c.add(d);\n        b = modExp(b, c, UInt64.from(UInt32.MAXINT()));\n        b = rotate(b, 7);\n\n        // Update the state with the results of the quarter-round.\n        [state[aIndex], state[bIndex], state[cIndex], state[dIndex]] = [a, b, c, d];\n    }\n```",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1280155187499106349",
      "type": "Default",
      "timestamp": "2024-09-02T17:19:40.833+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Solved this issue, thank you!",
      "author": {
        "id": "860489000699559956",
        "name": "d0x471b",
        "discriminator": "0000",
        "nickname": "Deniz",
        "color": "#E74C3C",
        "isBot": false,
        "roles": [
          {
            "id": "1204059991435251723",
            "name": "Technical Reviewer - Navigators",
            "color": "#E74C3C",
            "position": 105
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/860489000699559956/45359e95fc7e171a0336260a4a731e64.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "1041776221064798229",
            "name": "based",
            "code": "based",
            "isAnimated": false,
            "imageUrl": "https://cdn.discordapp.com/emojis/1041776221064798229.png"
          },
          "count": 1,
          "users": [
            {
              "id": "810793675033673730",
              "name": "br0wn_d3v",
              "discriminator": "0000",
              "nickname": "br0wnD3v",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/810793675033673730/avatars/2db4ae0dbab7167c86c35b78d9c2faa8.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    }
  ],
  "messageCount": 16
}