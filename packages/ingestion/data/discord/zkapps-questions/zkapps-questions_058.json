{
  "guild": {
    "id": "484437221055922177",
    "name": "Mina Protocol",
    "iconUrl": "https://cdn.discordapp.com/icons/484437221055922177/60f5907d2f7e3804b704a7153cae7768.png?size=512"
  },
  "channel": {
    "id": "1314572832847433808",
    "type": "GuildPublicThread",
    "categoryId": "1047214314349658172",
    "category": "zkapps-questions",
    "name": "IndexedMerkleMap and inclusion check",
    "topic": null
  },
  "dateRange": {
    "after": null,
    "before": null
  },
  "exportedAt": "2025-04-23T16:05:26.272133+04:00",
  "messages": [
    {
      "id": "1314572832847433808",
      "type": "Default",
      "timestamp": "2024-12-06T16:43:06.933+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "While i was trying to use Indexed Merkle Map, where keys are the hashes of public keys of participants, i saw there is no method for external use to get Witness. What is the conventional way to use these maps for checking if someone is included in it? Is sending the whole tree with hashed (key,value) pairs to the clients a safe way, if contract methods is written safely? \n\nAlso, is number of height ( = number of keys)  determines the keyspace? In that case, every Tree/map should be as big as Field elements order, which is not feasible.",
      "author": {
        "id": "1219796664735502398",
        "name": "tycho_br",
        "discriminator": "0000",
        "nickname": "TychoB",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1315583668621934593",
      "type": "Default",
      "timestamp": "2024-12-09T11:39:48.962+04:00",
      "timestampEdited": "2024-12-09T13:15:05.938+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "> Also, is number of height ( = number of keys)  determines the keyspace? In that case, every Tree/map should be as big as Field elements order, which is not feasible.\nno! the keyspace is not tied to the height / size of the tree, that's in fact the core innovation about indexed merkle maps. the keyspace is always all Field elements, not matter how small your tree.\n\n> What is the conventional way to use these maps for checking if someone is included in it?\nThe intended usage is to have an `IndexedMerkleMap` instance available in your contract, and to call one of its methods, e.g. `map.get(key)` or `map.isIncluded(key)`\n\n> Is sending the whole tree with hashed (key,value) pairs to the clients a safe way, if contract methods is written safely?\nyes!\n\nthe requirement of having the whole tree at every client is of course very heavy for use cases with large trees. it should be noted the code is written such that you don't actually have to load all the data into your tree, just a small subset of it (which contains the merkle paths of the nodes that you'll access, and their \"low nodes\")\n\nwhat's missing, however, is an API to instantiate an indexed merkle map from partial data, and to extract partial data from a full map. this should probably be added before the API moves outside \"experimental\"!",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDD25",
            "code": "fire",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "1219796664735502398",
              "name": "tycho_br",
              "discriminator": "0000",
              "nickname": "TychoB",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1315607088726282251",
      "type": "Default",
      "timestamp": "2024-12-09T13:12:52.75+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "In my tests, IndexedMerkleMap is much smaller compared to MerkleMap, so I just serialize and deserialize it fully; there's no need to extract witnesses.\nhttps://github.com/zkcloudworker/minatokens-lib/blob/main/packages/storage/src/indexed-map/indexed-map.ts",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDE32",
            "code": "astonished",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f632.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "1219796664735502398",
              "name": "tycho_br",
              "discriminator": "0000",
              "nickname": "TychoB",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1315632751738880061",
      "type": "Reply",
      "timestamp": "2024-12-09T14:54:51.289+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Awesome! Thank you for your answer. \n\n`the requirement of having the whole tree at every client is of course very heavy for use cases with large trees. it should be noted the code is written such that you don't actually have to load all the data into your tree, just a small subset of it (which contains the merkle paths of the nodes that you'll access, and their \"low nodes\")\n`\nThats what i am confused about - in Merkle Tree structure, it was possible to get necessary witness with getWitness(), where i couldn't see it in Indexed Merkle Map.",
      "author": {
        "id": "1219796664735502398",
        "name": "tycho_br",
        "discriminator": "0000",
        "nickname": "TychoB",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1315583668621934593",
        "channelId": "1314572832847433808",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1315632875856728074",
      "type": "Reply",
      "timestamp": "2024-12-09T14:55:20.881+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "",
      "author": {
        "id": "1219796664735502398",
        "name": "tycho_br",
        "discriminator": "0000",
        "nickname": "TychoB",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
      },
      "attachments": [
        {
          "id": "1315632875655397436",
          "url": "https://cdn.discordapp.com/attachments/1314572832847433808/1315632875655397436/DFST_KING.jpg?ex=680a1898&is=6808c718&hm=34a505d709c34d90634c4c2f7d643a9296c90e0bcf3eb1f9f696ab200f8e4665&",
          "fileName": "DFST_KING.jpg",
          "fileSizeBytes": 81619
        }
      ],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "❤️",
            "code": "heart",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "810793675033673730",
              "name": "br0wn_d3v",
              "discriminator": "0000",
              "nickname": "br0wnD3v",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/810793675033673730/2c6f77b0a0462b53cc3ce467970054c8.png?size=512"
            }
          ]
        }
      ],
      "mentions": [
        {
          "id": "964566918482784306",
          "name": "dfst.io",
          "discriminator": "0000",
          "nickname": "DFST",
          "color": "#FA7504",
          "isBot": false,
          "roles": [
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1150768164850913322",
              "name": "zkIgnite Cohort 2",
              "color": "#E97404",
              "position": 96
            },
            {
              "id": "1285544625037115557",
              "name": "MinaCon",
              "color": "#FAFFD6",
              "position": 25
            },
            {
              "id": "1205541869375979601",
              "name": "UMT",
              "color": "#FFFFFF",
              "position": 22
            },
            {
              "id": "1220065449098743838",
              "name": "Node-Operations",
              "color": "#FFFFFF",
              "position": 20
            },
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            },
            {
              "id": "1220065628602503188",
              "name": "Testing",
              "color": "#FFFFFF",
              "position": 18
            },
            {
              "id": "1291345674213920768",
              "name": "Rust-Node",
              "color": "#FFF7F7",
              "position": 17
            },
            {
              "id": "1259816280605851648",
              "name": "Links and Images",
              "color": "#FFFFFE",
              "position": 12
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1315607088726282251",
        "channelId": "1314572832847433808",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1315633157105647686",
      "type": "Reply",
      "timestamp": "2024-12-09T14:56:27.936+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "This is awesome! It seems constructing the tree will be fast with reasonable height, right? Then just sharing the tree ( probably would take a few MBs with height 10) is pretty easy with your code.",
      "author": {
        "id": "1219796664735502398",
        "name": "tycho_br",
        "discriminator": "0000",
        "nickname": "TychoB",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "964566918482784306",
          "name": "dfst.io",
          "discriminator": "0000",
          "nickname": "DFST",
          "color": "#FA7504",
          "isBot": false,
          "roles": [
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1150768164850913322",
              "name": "zkIgnite Cohort 2",
              "color": "#E97404",
              "position": 96
            },
            {
              "id": "1285544625037115557",
              "name": "MinaCon",
              "color": "#FAFFD6",
              "position": 25
            },
            {
              "id": "1205541869375979601",
              "name": "UMT",
              "color": "#FFFFFF",
              "position": 22
            },
            {
              "id": "1220065449098743838",
              "name": "Node-Operations",
              "color": "#FFFFFF",
              "position": 20
            },
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            },
            {
              "id": "1220065628602503188",
              "name": "Testing",
              "color": "#FFFFFF",
              "position": 18
            },
            {
              "id": "1291345674213920768",
              "name": "Rust-Node",
              "color": "#FFF7F7",
              "position": 17
            },
            {
              "id": "1259816280605851648",
              "name": "Links and Images",
              "color": "#FFFFFE",
              "position": 12
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1315607088726282251",
        "channelId": "1314572832847433808",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1315633170007199818",
      "type": "Default",
      "timestamp": "2024-12-09T14:56:31.012+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Thank you so much!",
      "author": {
        "id": "1219796664735502398",
        "name": "tycho_br",
        "discriminator": "0000",
        "nickname": "TychoB",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1315636525018644490",
      "type": "Default",
      "timestamp": "2024-12-09T15:09:50.909+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Constructing the tree is not fast, but with a height of 10, it will be relatively fast, and probably when serializing, you will be under 1 MB.\nDeserializing the tree takes some milliseconds. Therefore, you should not reconstruct the tree from the elements, you should serialize and deserialize it. If you use my library @minatokens/storage, the inclusion check looks like two lines in your contract\n```typescript\nconst whitelist = this.whitelist.getAndRequireEquals();\nconst whitelistedAmount = await whitelist.getWhitelistedAmount(address);\n```\nthat returns an `Option` to value in the `IndexedMerkleTree`\nhttps://github.com/zkcloudworker/minatokens-lib/blob/main/packages/token/src/FungibleTokenAdvancedAdmin.ts#L181",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1315767395226488873",
      "type": "Reply",
      "timestamp": "2024-12-09T23:49:52.798+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Yes there's not getWitness() here because my goal was to simplify the API, just \n\"get/set key in the map\"\ninstead of\n\"get a witness outside the circuit, pass it in, then compute the root for the current value from that witness, assert that it equals the expected root, now compute the root again with the new value, now that's your new root\" which is awful",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "1219796664735502398",
          "name": "tycho_br",
          "discriminator": "0000",
          "nickname": "TychoB",
          "color": "#FFFFFF",
          "isBot": false,
          "roles": [
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            },
            {
              "id": "1259816280605851648",
              "name": "Links and Images",
              "color": "#FFFFFE",
              "position": 12
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/1219796664735502398/6510dff389b4eb6b26db39c4a0e57e0c.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1315632751738880061",
        "channelId": "1314572832847433808",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1315767785502281748",
      "type": "Reply",
      "timestamp": "2024-12-09T23:51:25.847+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "The existing API is much better than the old one with getWitness; I do not see a need for any changes. Instead of a page of code, it is now a couple of lines.",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDE04",
            "code": "smile",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f604.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "201337099700535297",
              "name": "45930",
              "discriminator": "0000",
              "nickname": "45930",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/201337099700535297/5eb4e1dfa7edf8ddce5c4fdee8dc5bd3.png?size=512"
            }
          ]
        }
      ],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1315767395226488873",
        "channelId": "1314572832847433808",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1315768345785794580",
      "type": "Default",
      "timestamp": "2024-12-09T23:53:39.429+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Translated: \"Don't touch it!\"",
      "author": {
        "id": "201337099700535297",
        "name": "45930",
        "discriminator": "0000",
        "nickname": "45930",
        "color": "#206694",
        "isBot": false,
        "roles": [
          {
            "id": "595716565014675466",
            "name": "o1 Labs",
            "color": "#206694",
            "position": 131
          },
          {
            "id": "1266133384632078347",
            "name": "o1-exploration-team",
            "color": "#63CCF9",
            "position": 129
          },
          {
            "id": "1090136219045867601",
            "name": "Gov Focus Group",
            "color": "#C02020",
            "position": 107
          },
          {
            "id": "1043261559478165567",
            "name": "ZK-peer-reviewer",
            "color": "#F87607",
            "position": 104
          },
          {
            "id": "1249795469157335081",
            "name": "NExT",
            "color": "#B47936",
            "position": 103
          },
          {
            "id": "1044272767060672624",
            "name": "Cohort 0 Mentor",
            "color": "#A84300",
            "position": 102
          },
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1010215418604040232",
            "name": "zkapp-beta-tester",
            "color": "#E06304",
            "position": 99
          },
          {
            "id": "931675496079585350",
            "name": "zkApp Builders Program - Cohort 1",
            "color": "#F37210",
            "position": 98
          },
          {
            "id": "1121063832555634799",
            "name": "zkIgnite Cohort 1",
            "color": "#F38705",
            "position": 97
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          },
          {
            "id": "754653466344947782",
            "name": "QA Task Force",
            "color": "#B2F3B8",
            "position": 80
          },
          {
            "id": "893400661759246366",
            "name": "Applicant",
            "color": null,
            "position": 24
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/201337099700535297/5eb4e1dfa7edf8ddce5c4fdee8dc5bd3.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1315769669730177035",
      "type": "Reply",
      "timestamp": "2024-12-09T23:58:55.082+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Lost in Translation\uD83E\uDD23 \nThe correct translation is: move it faster out of Experimental, I want to use it on mainnet in production!",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "201337099700535297",
              "name": "45930",
              "discriminator": "0000",
              "nickname": "45930",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/201337099700535297/5eb4e1dfa7edf8ddce5c4fdee8dc5bd3.png?size=512"
            }
          ]
        }
      ],
      "mentions": [
        {
          "id": "201337099700535297",
          "name": "45930",
          "discriminator": "0000",
          "nickname": "45930",
          "color": "#206694",
          "isBot": false,
          "roles": [
            {
              "id": "595716565014675466",
              "name": "o1 Labs",
              "color": "#206694",
              "position": 131
            },
            {
              "id": "1266133384632078347",
              "name": "o1-exploration-team",
              "color": "#63CCF9",
              "position": 129
            },
            {
              "id": "1090136219045867601",
              "name": "Gov Focus Group",
              "color": "#C02020",
              "position": 107
            },
            {
              "id": "1043261559478165567",
              "name": "ZK-peer-reviewer",
              "color": "#F87607",
              "position": 104
            },
            {
              "id": "1249795469157335081",
              "name": "NExT",
              "color": "#B47936",
              "position": 103
            },
            {
              "id": "1044272767060672624",
              "name": "Cohort 0 Mentor",
              "color": "#A84300",
              "position": 102
            },
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1010215418604040232",
              "name": "zkapp-beta-tester",
              "color": "#E06304",
              "position": 99
            },
            {
              "id": "931675496079585350",
              "name": "zkApp Builders Program - Cohort 1",
              "color": "#F37210",
              "position": 98
            },
            {
              "id": "1121063832555634799",
              "name": "zkIgnite Cohort 1",
              "color": "#F38705",
              "position": 97
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            },
            {
              "id": "754653466344947782",
              "name": "QA Task Force",
              "color": "#B2F3B8",
              "position": 80
            },
            {
              "id": "893400661759246366",
              "name": "Applicant",
              "color": null,
              "position": 24
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/201337099700535297/5eb4e1dfa7edf8ddce5c4fdee8dc5bd3.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1315768345785794580",
        "channelId": "1314572832847433808",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1316058792084897814",
      "type": "Default",
      "timestamp": "2024-12-10T19:07:47.223+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I think this should be added!\n> what's missing, however, is an API to instantiate an indexed merkle map from partial data, and to extract partial data from a full map. this should probably be added before the API moves outside \"experimental\"!",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1316085264862416971",
      "type": "Reply",
      "timestamp": "2024-12-10T20:52:58.825+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "To do this, you need to define the exact operations that will be performed on the map, such as insert, set, prove inclusion, etc as the distinction is that\n- With MerkleMap we use only inclusion proofs in ZkProgram\n- With IndexedMerkleMap we use full API within ZkProgram, including insert, set, prove inclusion, etc\n\nI looked at this issue and decided that the best way is probably to put some handler inside the data structure that marks all the elements accessed in a specific query to the map and then extracts all the requested paths.\nI have decided not to do this as it is complicated and leaves a lot of space for bugs, and serialize the full small map, which is possible as the height of IndexedMerkleMap is significantly lower than that of MerkleMap.",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1316058792084897814",
        "channelId": "1314572832847433808",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1316086100170641479",
      "type": "Default",
      "timestamp": "2024-12-10T20:56:17.978+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "What would be great is to create an abstraction for storage layer to be able to plug in various DA layers for data storage of the IndexedMerkleMap, and make automatic operations on the IndexedMerkleMap for a contract, for example, using Project Untitled:\nhttps://t.me/ProjectUntitledZK_Chat",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [
        {
          "title": "[Project Untitled] Chat",
          "url": "https://t.me/ProjectUntitledZK_Chat",
          "timestamp": null,
          "description": "o1Labs will give updates on the technical progress of the product. Discussions are welcome about our proposed mutable state management solution. Channel Rules: No price discussions regarding any cryptocurrency Be respectful Keep the discussions to the top",
          "thumbnail": {
            "url": "https://images-ext-1.discordapp.net/external/Jploihsa2ExkoK1xCv5vMzJHGw0IXq88YOM5X85Z8wc/https/cdn4.cdn-telegram.org/file/KAjua84r74rl7-bI_2w8I9yf9HfNVhUKKvjQ9_av07DelVQDRu7x7UxD0sG4b0HrbFM-PCpa_n-3Ds-okR8DkFtRokVmJ2Zl5jY0pW_y75fz0Ox4bRg_rNfDzU2pZlfx03e-277opYuAmkgF5dey8Ca2O-ugjeO4pbo_36EVyYatv4vgGSdccR2mpemxiTp107BJ_erWs15f9P0VHXh0pnj7VWKlE5Jmkjak9Elh-r9Pet_MKWrLrSDWsYu324YwX36EkhcFA0YUd5G45RNMFOKFQfQFLrhIs6E_9Ze8QX8VAn-VIF2ZRq1b8QEqePNLD4OwT7Hf3TIg-Ye2-n-3ag.jpg",
            "width": 320,
            "height": 320
          },
          "images": [],
          "fields": []
        }
      ],
      "stickers": [],
      "reactions": [],
      "mentions": []
    }
  ],
  "messageCount": 15
}