{
  "guild": {
    "id": "484437221055922177",
    "name": "Mina Protocol",
    "iconUrl": "https://cdn.discordapp.com/icons/484437221055922177/60f5907d2f7e3804b704a7153cae7768.png?size=512"
  },
  "channel": {
    "id": "1205243930870812692",
    "type": "GuildPublicThread",
    "categoryId": "1047214314349658172",
    "category": "zkapps-questions",
    "name": "Why are actions arrays of arrays of fields?",
    "topic": null
  },
  "dateRange": {
    "after": null,
    "before": null
  },
  "exportedAt": "2025-04-24T11:48:43.5925429+04:00",
  "messages": [
    {
      "id": "1205243930870812692",
      "type": "Default",
      "timestamp": "2024-02-09T00:09:05.469+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "From what I can tell, the `actions` field of an account update is a merkle list of lists of fields.\nWhy? It seems like it would be no functionally different if it were just a hash of the list of fields.",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1205250566738149386",
      "type": "Default",
      "timestamp": "2024-02-09T00:35:27.583+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "afaik the # of fields publishable in actions is fixed, so the data itself can be published with the AU, if you only send the hash in the AU someone can withhold the data itself and break data availability",
      "author": {
        "id": "374663548174991362",
        "name": "maht0rz",
        "discriminator": "0000",
        "nickname": "maht0rz",
        "color": "#8B50FF",
        "isBot": false,
        "roles": [
          {
            "id": "846838836649525259",
            "name": "Mina Foundation",
            "color": "#8B50FF",
            "position": 138
          },
          {
            "id": "1146001284516827148",
            "name": "MF Engineering",
            "color": "#9B59B6",
            "position": 135
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "1090136219045867601",
            "name": "Gov Focus Group",
            "color": "#C02020",
            "position": 107
          },
          {
            "id": "1043261559478165567",
            "name": "ZK-peer-reviewer",
            "color": "#F87607",
            "position": 104
          },
          {
            "id": "1044272767060672624",
            "name": "Cohort 0 Mentor",
            "color": "#A84300",
            "position": 102
          },
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1121063832555634799",
            "name": "zkIgnite Cohort 1",
            "color": "#F38705",
            "position": 97
          },
          {
            "id": "754653466344947782",
            "name": "QA Task Force",
            "color": "#B2F3B8",
            "position": 80
          },
          {
            "id": "1083404176391929916",
            "name": "Mina Community Creator",
            "color": "#F68B8B",
            "position": 74
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/374663548174991362/f6511739774fe43bc64418c6c064e1f4.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "141272134633783297",
              "name": "faseris",
              "discriminator": "0000",
              "nickname": "Faserisko",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/141272134633783297/906de2260ca3617d3a9792834a64e3c8.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1205553112346001458",
      "type": "Reply",
      "timestamp": "2024-02-09T20:37:40.077+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "That doesn't explain why it's a list of lists",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "374663548174991362",
          "name": "maht0rz",
          "discriminator": "0000",
          "nickname": "maht0rz",
          "color": "#8B50FF",
          "isBot": false,
          "roles": [
            {
              "id": "846838836649525259",
              "name": "Mina Foundation",
              "color": "#8B50FF",
              "position": 138
            },
            {
              "id": "1146001284516827148",
              "name": "MF Engineering",
              "color": "#9B59B6",
              "position": 135
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "1090136219045867601",
              "name": "Gov Focus Group",
              "color": "#C02020",
              "position": 107
            },
            {
              "id": "1043261559478165567",
              "name": "ZK-peer-reviewer",
              "color": "#F87607",
              "position": 104
            },
            {
              "id": "1044272767060672624",
              "name": "Cohort 0 Mentor",
              "color": "#A84300",
              "position": 102
            },
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1121063832555634799",
              "name": "zkIgnite Cohort 1",
              "color": "#F38705",
              "position": 97
            },
            {
              "id": "754653466344947782",
              "name": "QA Task Force",
              "color": "#B2F3B8",
              "position": 80
            },
            {
              "id": "1083404176391929916",
              "name": "Mina Community Creator",
              "color": "#F68B8B",
              "position": 74
            },
            {
              "id": "1285544625037115557",
              "name": "MinaCon",
              "color": "#FAFFD6",
              "position": 25
            },
            {
              "id": "1205541869375979601",
              "name": "UMT",
              "color": "#FFFFFF",
              "position": 22
            },
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/374663548174991362/f6511739774fe43bc64418c6c064e1f4.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1205250566738149386",
        "channelId": "1205243930870812692",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1205553282710376460",
      "type": "Default",
      "timestamp": "2024-02-09T20:38:20.695+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "also only the hash is in the account update itself I think",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1205553332987502603",
      "type": "Default",
      "timestamp": "2024-02-09T20:38:32.682+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I assume the associated data is sent elsewhere somehow",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1205553482262773782",
      "type": "Default",
      "timestamp": "2024-02-09T20:39:08.272+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Indeed, in the OCaml code `actions` is a single field",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1205557148122357821",
      "type": "Default",
      "timestamp": "2024-02-09T20:53:42.281+04:00",
      "timestampEdited": "2024-02-09T20:54:02.844+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "You can dispatch several actions in one method:\n```typescript\nthis.reducer.dispatch(element1);\nthis.reducer.dispatch(element2);\n```\n\n```typescript\nlet actions = zkApp.reducer.getActions({\n      fromActionState: zkApp.actionState.get(),\n    });\nconsole.log(\"actions\", actions);\n```\nproduces\n```\nactions [\n  [\n    Element {\n      ...\n    },\n    Element {\n      ...\n    }\n  ]\n]\n```",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1205929956614610965",
      "type": "Default",
      "timestamp": "2024-02-10T21:35:06.752+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "this doesn't answer my question either unfortunately",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1205930023005978715",
      "type": "Default",
      "timestamp": "2024-02-10T21:35:22.581+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "the question is why is it a list of lists",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1205930052592869538",
      "type": "Default",
      "timestamp": "2024-02-10T21:35:29.635+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "as visible even in your example",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1206070289956470855",
      "type": "Default",
      "timestamp": "2024-02-11T06:52:44.828+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Perhaps it's useful to work through an example. Imagine that the core datastructure of a zkApp is a merkle tree. In the simplest possible execution model, one entity executes the zkApp, and submits the new merkle root on-chain after each update. However, while that entity knows the contents of the tree, no other actor can reason about the contents of the tree in any way.\n\nSo, to achieve a single-writer, multiple-reader model, we give zkApps a way to broadcast the update that they're making (e.g. `Event(Update {index, data})`) to the network alongside the updare. This way, any of the potential 'readers' can monitor the network, and update their local merkle tree, to keep it in sync. These are events.\n\nNotice though, that `data` could be anything: in particular, it may not fit into a single field element. So, we say that an 'event' is a list of field elements, to give the application the flexibility to broadcast whatever it needs. We can record this event as a list of field elements in the account update",
      "author": {
        "id": "522705433551437825",
        "name": "mrmr1993",
        "discriminator": "0000",
        "nickname": "mrmr1993",
        "color": "#206694",
        "isBot": false,
        "roles": [
          {
            "id": "595716565014675466",
            "name": "o1 Labs",
            "color": "#206694",
            "position": 131
          },
          {
            "id": "1300439738003619890",
            "name": "o1 Engineering",
            "color": "#00368B",
            "position": 130
          },
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          },
          {
            "id": "797134036337557534",
            "name": "engineering-branch-czar",
            "color": null,
            "position": 88
          },
          {
            "id": "601500112023191580",
            "name": "testnet-connected",
            "color": "#BEF8DC",
            "position": 81
          },
          {
            "id": "603659255559618611",
            "name": "faucet-approvers",
            "color": null,
            "position": 77
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/4.png"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83C\uDFC6",
            "code": "trophy",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f3c6.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "192258292544700426",
              "name": "3221229683",
              "discriminator": "0000",
              "nickname": "ember",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/192258292544700426/26ad76be0d2cefc4d49aa277773495cc.png?size=512"
            }
          ]
        },
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDE4F\uD83C\uDFFC",
            "code": "pray_tone2",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f64f-1f3fc.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "192258292544700426",
              "name": "3221229683",
              "discriminator": "0000",
              "nickname": "ember",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/192258292544700426/26ad76be0d2cefc4d49aa277773495cc.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1206070394172211230",
      "type": "Default",
      "timestamp": "2024-02-11T06:53:09.675+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "However, this still dictates a single writer. What we would really like is to allow multiple, potentially racing, updates. It takes extra work to resolve the inconsistencies on-chain, which isn't currently supported, so we do the next best thing: record the proposed updates, in the order they are received, and then execute them in that order. Here, we can adapt the events into 'actions', which we can accumulate in a merkle list, to allow us to execute them in another pass.\n\nWe'd like the implementation to be efficient though, and the zkApp rule for updating the tree doesn't really care what's in the leaves of the tree. We can save the cost of re-hashing by emitting an action and an event together: `Action(Update{index, leaf_hash})` and `Event(Contents{data})`. Now, everyone has the ability to prove things about the contents of the tree, using `data` at `index`, but the reducer only reasons about the hashes in the merkle tree.\n\nWe could stop here, and say that we're done: every account update represents the single action and event that a zkApp could have emitted, each a list of field elements. However, this limits the type of applications we can write: what if some executions only require 1 update, but others require 2 to happen atomically? Communicating the state between account updates is overhead that adds more complexity for app developers.\nOn the other side: why should we pay the cost of an entire extra account update to submit another action, when we can use recursion to collect them and send a single proof?",
      "author": {
        "id": "522705433551437825",
        "name": "mrmr1993",
        "discriminator": "0000",
        "nickname": "mrmr1993",
        "color": "#206694",
        "isBot": false,
        "roles": [
          {
            "id": "595716565014675466",
            "name": "o1 Labs",
            "color": "#206694",
            "position": 131
          },
          {
            "id": "1300439738003619890",
            "name": "o1 Engineering",
            "color": "#00368B",
            "position": 130
          },
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          },
          {
            "id": "797134036337557534",
            "name": "engineering-branch-czar",
            "color": null,
            "position": 88
          },
          {
            "id": "601500112023191580",
            "name": "testnet-connected",
            "color": "#BEF8DC",
            "position": 81
          },
          {
            "id": "603659255559618611",
            "name": "faucet-approvers",
            "color": null,
            "position": 77
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/4.png"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1206070450656907274",
      "type": "Default",
      "timestamp": "2024-02-11T06:53:23.142+04:00",
      "timestampEdited": "2024-02-11T06:54:39.933+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "To address these concerns, we can make a simple tweak: every account update can expose multiple updates and actions, as a list, forming a list of lists of field elements.\n\nThe hope is that this is also more natural for zkApp developers: the ideal API is to call `emit_update` and/or `emit_action` at any point in the zkApp's execution, and have them notarised in the account update. This removes the concern of 'have I already used my action/update?', and 'how do I encode these multiple actions/updates?', as well as allowing the sequencer/update listener to operate on simpler items. As a hopefully natural final example, consider the actions and events: `[Event(Send{from: 5, to: 6}), Event(Delete{index:5}), Event(Send{from: 8, to: 9})]`, `[Action(Update{index: 5, leaf_hash: _}), Action(Update{index: 6, leaf_hash: _}), [Action(Update{index: 8, leaf_hash: _}), Action(Update{index: 9, leaf_hash: _})]`.\n\nFinally, think also about atomicity: if I really do want several actions to either all apply, or all cancel, how do I communicate that to the action reducer? It's very easy in the multiple-action world: if any of the actions in that list of list of field elements do not apply, revert to the previous state.\n\nHope this makes some more sense of things. As always, interested in any design notes for the next iteration of zkApps!",
      "author": {
        "id": "522705433551437825",
        "name": "mrmr1993",
        "discriminator": "0000",
        "nickname": "mrmr1993",
        "color": "#206694",
        "isBot": false,
        "roles": [
          {
            "id": "595716565014675466",
            "name": "o1 Labs",
            "color": "#206694",
            "position": 131
          },
          {
            "id": "1300439738003619890",
            "name": "o1 Engineering",
            "color": "#00368B",
            "position": 130
          },
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          },
          {
            "id": "797134036337557534",
            "name": "engineering-branch-czar",
            "color": null,
            "position": 88
          },
          {
            "id": "601500112023191580",
            "name": "testnet-connected",
            "color": "#BEF8DC",
            "position": 81
          },
          {
            "id": "603659255559618611",
            "name": "faucet-approvers",
            "color": null,
            "position": 77
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/4.png"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "❤️",
            "code": "heart",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/2764.svg"
          },
          "count": 4,
          "users": [
            {
              "id": "138034851872899081",
              "name": "rpanic",
              "discriminator": "0000",
              "nickname": "rpanic",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/138034851872899081/a3ac1d3e9ff9778efba8901ccb03783a.png?size=512"
            },
            {
              "id": "140202196758167552",
              "name": "las0",
              "discriminator": "0000",
              "nickname": "Las",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
            },
            {
              "id": "568421780331692042",
              "name": "mitschabaude",
              "discriminator": "0000",
              "nickname": "gregor",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
            },
            {
              "id": "964566918482784306",
              "name": "dfst.io",
              "discriminator": "0000",
              "nickname": "DFST",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
            }
          ]
        },
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D\uD83C\uDFFB",
            "code": "thumbsup_tone1",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "687695163988246532",
              "name": "mario_zito",
              "discriminator": "0000",
              "nickname": "Mario | Socialcap",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/687695163988246532/51383682fc5393f7ef35ec027d85c28a.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1206205359341965323",
      "type": "Default",
      "timestamp": "2024-02-11T15:49:27.879+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "that makes a lot of sense, thanks!",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1206623376853049395",
      "type": "Default",
      "timestamp": "2024-02-12T19:30:31.02+04:00",
      "timestampEdited": "2024-02-12T19:31:07.059+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Kind of related, I just merged a PR which introduces a MerkleList type in o1js and I wrote an example which wraps actions in a Merkle list of Merkle lists, and then iterates through them, without using `reduce()`. The code actually turned out pretty clean (much nicer than the internal `reduce()` circuit I originally wrote), so I think it might be a good idea to explicitly expose actions as a nested Merkle list right away, e.g. return a MerkleList from `getActions()`\n\nhttps://github.com/o1-labs/o1js/blob/main/src/examples/zkapps/reducer/actions-as-merkle-list.ts",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [
        {
          "title": "o1js/src/examples/zkapps/reducer/actions-as-merkle-list.ts at main ...",
          "url": "https://github.com/o1-labs/o1js/blob/main/src/examples/zkapps/reducer/actions-as-merkle-list.ts",
          "timestamp": null,
          "description": "TypeScript framework for zk-SNARKs and zkApps. Contribute to o1-labs/o1js development by creating an account on GitHub.",
          "color": "#1E2327",
          "images": [],
          "fields": []
        }
      ],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDD25",
            "code": "fire",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f525.svg"
          },
          "count": 3,
          "users": [
            {
              "id": "138034851872899081",
              "name": "rpanic",
              "discriminator": "0000",
              "nickname": "rpanic",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/138034851872899081/a3ac1d3e9ff9778efba8901ccb03783a.png?size=512"
            },
            {
              "id": "939821989143646218",
              "name": "phn2211",
              "discriminator": "0000",
              "nickname": "phn2211",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/939821989143646218/91b3dabdd22b8933ddb6d6ebf74417cc.png?size=512"
            },
            {
              "id": "964566918482784306",
              "name": "dfst.io",
              "discriminator": "0000",
              "nickname": "DFST",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    }
  ],
  "messageCount": 15
}