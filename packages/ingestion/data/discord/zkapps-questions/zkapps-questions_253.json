{
  "guild": {
    "id": "484437221055922177",
    "name": "Mina Protocol",
    "iconUrl": "https://cdn.discordapp.com/icons/484437221055922177/60f5907d2f7e3804b704a7153cae7768.png?size=512"
  },
  "channel": {
    "id": "1251951563174580315",
    "type": "GuildPublicThread",
    "categoryId": "1047214314349658172",
    "category": "zkapps-questions",
    "name": "How can I reduce the number of account updates on transfer ?",
    "topic": null
  },
  "dateRange": {
    "after": null,
    "before": null
  },
  "exportedAt": "2025-04-23T18:03:43.6719552+04:00",
  "messages": [
    {
      "id": "1251951563174580315",
      "type": "Default",
      "timestamp": "2024-06-16T21:28:32.796+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Hello,\nI have a method that transfers tokens from the user to the smartcontract, and from the smartcontract to the user, but with all these transfers I get an error:\n\n    Error: The transaction is too expensive, try reducing the number of AccountUpdates that are attached to the transaction.\n    Each transaction needs to be processed by the snark workers on the network.\n    Certain layouts of AccountUpdates require more proving time than others, and therefore are too expensive.\n\n\nIt seems that a transfer generates 3 calls",
      "author": {
        "id": "295757910691151873",
        "name": "youtpout",
        "discriminator": "0000",
        "nickname": "Youtpout",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/295757910691151873/3c7813b443eec196ba05378b57e0e0ff.png?size=512"
      },
      "attachments": [
        {
          "id": "1251951563363319818",
          "url": "https://cdn.discordapp.com/attachments/1251951563174580315/1251951563363319818/message.txt?ex=6809cc00&is=68087a80&hm=9bf4edf1e9b7cacdcd55a2d2c3fc03c82e11ad85adbb4f07fdb086adcc397de2&",
          "fileName": "message.txt",
          "fileSizeBytes": 4267
        },
        {
          "id": "1251951563648401458",
          "url": "https://cdn.discordapp.com/attachments/1251951563174580315/1251951563648401458/code.txt?ex=6809cc00&is=68087a80&hm=37a478af32ffa0249cc90853240e4d0db9bcc7885fec62e66b289a85cef8db85&",
          "fileName": "code.txt",
          "fileSizeBytes": 3179
        }
      ],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "750892628408533032",
              "name": "mkjkk",
              "discriminator": "0000",
              "nickname": "msf",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/750892628408533032/33d3caf33abb932a34a5f07feccf701f.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1252224324828532788",
      "type": "Default",
      "timestamp": "2024-06-17T15:32:24.242+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I currently do a deposit and then a swap to make it work, but it would be better if I could do it in one transaction.",
      "author": {
        "id": "295757910691151873",
        "name": "youtpout",
        "discriminator": "0000",
        "nickname": "Youtpout",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/295757910691151873/3c7813b443eec196ba05378b57e0e0ff.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1252230934393127074",
      "type": "Default",
      "timestamp": "2024-06-17T15:58:40.085+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "https://github.com/MinaFoundation/mina-fungible-token right",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [
        {
          "title": "GitHub - MinaFoundation/mina-fungible-token",
          "url": "https://github.com/MinaFoundation/mina-fungible-token",
          "timestamp": null,
          "description": "Contribute to MinaFoundation/mina-fungible-token development by creating an account on GitHub.",
          "color": "#1E2327",
          "thumbnail": {
            "url": "https://images-ext-1.discordapp.net/external/QR7HCWPd32S3E5BcLkTcfqubsZDQlzqqjMlPtp76Su4/https/opengraph.githubassets.com/6f8a91104bee8cfba4b7200c68c752b57b97849e2d643fc387cc21d5dca9029d/MinaFoundation/mina-fungible-token",
            "width": 1200,
            "height": 600
          },
          "images": [],
          "fields": []
        }
      ],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D\uD83C\uDFFB",
            "code": "thumbsup_tone1",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d-1f3fb.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "295757910691151873",
              "name": "youtpout",
              "discriminator": "0000",
              "nickname": "Youtpout",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/295757910691151873/3c7813b443eec196ba05378b57e0e0ff.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1252500160198742047",
      "type": "Default",
      "timestamp": "2024-06-18T09:48:28.519+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "@Youtpout looking at your transaction layout, each account update seems strictly necessary, except maybe the one created by `fundNewAccount()`. If you can ensure accounts exist before calling this method, you could save that one",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "295757910691151873",
          "name": "youtpout",
          "discriminator": "0000",
          "nickname": "Youtpout",
          "color": "#FA7504",
          "isBot": false,
          "roles": [
            {
              "id": "1182371055923376168",
              "name": "Mina Navigator",
              "color": "#FA7504",
              "position": 100
            },
            {
              "id": "1220064445863038996",
              "name": "zkApps",
              "color": "#FFFFFF",
              "position": 19
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/295757910691151873/3c7813b443eec196ba05378b57e0e0ff.png?size=512"
        }
      ]
    },
    {
      "id": "1252506908250865664",
      "type": "Reply",
      "timestamp": "2024-06-18T10:15:17.38+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "So I need to create the account manually before the swap, the new account is the sender who received token 1",
      "author": {
        "id": "295757910691151873",
        "name": "youtpout",
        "discriminator": "0000",
        "nickname": "Youtpout",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/295757910691151873/3c7813b443eec196ba05378b57e0e0ff.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1252500160198742047",
        "channelId": "1251951563174580315",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1252507838413275137",
      "type": "Default",
      "timestamp": "2024-06-18T10:18:59.148+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "tbh I'm not sure if that will edge it below the limit. definitely try it out",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1252525196770934826",
      "type": "Reply",
      "timestamp": "2024-06-18T11:27:57.703+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Same problem, I'll stick with my current solution: the user makes a deposit on the contract, and then can redeem the deposited token.",
      "author": {
        "id": "295757910691151873",
        "name": "youtpout",
        "discriminator": "0000",
        "nickname": "Youtpout",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/295757910691151873/3c7813b443eec196ba05378b57e0e0ff.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "568421780331692042",
              "name": "mitschabaude",
              "discriminator": "0000",
              "nickname": "gregor",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
            }
          ]
        }
      ],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1252507838413275137",
        "channelId": "1251951563174580315",
        "guildId": "484437221055922177"
      }
    }
  ],
  "messageCount": 7
}