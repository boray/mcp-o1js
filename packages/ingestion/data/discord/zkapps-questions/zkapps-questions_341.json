{
  "guild": {
    "id": "484437221055922177",
    "name": "Mina Protocol",
    "iconUrl": "https://cdn.discordapp.com/icons/484437221055922177/60f5907d2f7e3804b704a7153cae7768.png?size=512"
  },
  "channel": {
    "id": "1210437491530928158",
    "type": "GuildPublicThread",
    "categoryId": "1047214314349658172",
    "category": "zkapps-questions",
    "name": "How to hide contract caller?",
    "topic": null
  },
  "dateRange": {
    "after": null,
    "before": null
  },
  "exportedAt": "2025-04-24T11:07:49.5742766+04:00",
  "messages": [
    {
      "id": "1210437491530928158",
      "type": "Default",
      "timestamp": "2024-02-23T08:06:26.822+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Hi, I am new to Mina and do like it.  If smart contract A1 and A2 call B,  is it possible to hide the caller A1 or A2 from the blockchain tx information?  If so,  how to implement it?  Thanks!",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 2,
          "users": [
            {
              "id": "192258292544700426",
              "name": "3221229683",
              "discriminator": "0000",
              "nickname": "ember",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/192258292544700426/26ad76be0d2cefc4d49aa277773495cc.png?size=512"
            },
            {
              "id": "1186890131421012069",
              "name": "tenacious_mango_64264",
              "discriminator": "0000",
              "nickname": "ss",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1210475261477261342",
      "type": "Default",
      "timestamp": "2024-02-23T10:36:31.879+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "No, not possible! From the protocol point of view, a \"smart contract call\" basically just means that you want to send two updates to the chain, one for the caller and one for the callee, and prove that you executed the methods of both",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1210475635198402560",
      "type": "Default",
      "timestamp": "2024-02-23T10:38:00.981+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "But if you want to hide how you called your contract B, why should that be a contract call at all? Can't you do the necessary preparation to call B outside of any contract?",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1210491087911784478",
      "type": "Default",
      "timestamp": "2024-02-23T11:39:25.195+04:00",
      "timestampEdited": "2024-02-23T11:52:17.114+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Thanks for your reply. \n\nThe problem I need to address is similar to the following scenario: calculating the Gini coefficient for the profitability of factories in a small town. I need to call smart contracts A1, A2, and others to obtain the profit amounts for each factory, and then receive profit amounts and calculate the Gini coefficient in smart contract B. **The set of profit amounts can be made public, but the profit amounts for each individual factory should remain confidential. **\n\nIf the caller of the smart contracts cannot be hidden, an attacker could deduce the profit amounts for each factory based on the smart contract calling relationships. \n\nAs a result, I have to split this cohesive process into two steps. First, aggregate the profit amounts of all factories. Then, manually call smart contract B to calculate the Gini coefficient. However, this division introduces a risk of human misconduct, although measures can be taken to control it.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211258899798429719",
      "type": "Default",
      "timestamp": "2024-02-25T14:30:25.814+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Got it, interesting problem",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211265086581121024",
      "type": "Default",
      "timestamp": "2024-02-25T14:55:00.858+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "So you call a method on a smart contract A1 and get a result from it based on who is calling it? Are you modifying the state of A1?",
      "author": {
        "id": "1204922502380388384",
        "name": "close.galaxy",
        "discriminator": "0000",
        "nickname": "close galaxy",
        "color": "#FFFFFE",
        "isBot": false,
        "roles": [
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/embed/avatars/5.png"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211873794852134932",
      "type": "Default",
      "timestamp": "2024-02-27T07:13:48.219+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Yes, Calling smart contract A1 modifies its and B's states.  As Gregor says, Mina blockchain will release it's A1 calling B that caused B's state change.  But I just want Mina keep it secret, and none could find calling relationships between smart contracts.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211905706249424956",
      "type": "Default",
      "timestamp": "2024-02-27T09:20:36.489+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Absent a more general mechanism, you would have to start with something like a privacy-preserving rank computation, or a multiparty sort or something.",
      "author": {
        "id": "192258292544700426",
        "name": "3221229683",
        "discriminator": "0000",
        "nickname": "ember",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/192258292544700426/avatars/51c1b2617db4f40414b845f4749d10a9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211955192795504701",
      "type": "Reply",
      "timestamp": "2024-02-27T12:37:15.001+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "this sounds like an FE problem",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "1186890131421012069",
          "name": "tenacious_mango_64264",
          "discriminator": "0000",
          "nickname": "ss",
          "color": null,
          "isBot": false,
          "roles": [],
          "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1210491087911784478",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1211955285267324928",
      "type": "Default",
      "timestamp": "2024-02-27T12:37:37.048+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "see https://github.com/fentec-project/gofe/blob/master/README.md#example-projects",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [
        {
          "title": "gofe/README.md at master · fentec-project/gofe",
          "url": "https://github.com/fentec-project/gofe/blob/master/README.md",
          "timestamp": null,
          "description": "Functional encryption library in Go. Contribute to fentec-project/gofe development by creating an account on GitHub.",
          "color": "#1E2327",
          "thumbnail": {
            "url": "https://images-ext-1.discordapp.net/external/SLLtWzidU6e9KFPNMD4BQ7e6LNsnHUZZG5hpIXT0lFs/https/opengraph.githubassets.com/93fe22366b00f47ac468146748b4c8973d1d3535f5321fffdb727281a02af969/fentec-project/gofe",
            "width": 1200,
            "height": 600
          },
          "images": [],
          "fields": []
        }
      ],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211955314941886474",
      "type": "Default",
      "timestamp": "2024-02-27T12:37:44.123+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "other schemes might also fit",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211955381224480778",
      "type": "Default",
      "timestamp": "2024-02-27T12:37:59.926+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "but it's in the realm of functional encryption",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211955443480662057",
      "type": "Default",
      "timestamp": "2024-02-27T12:38:14.769+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I saw some other paper that would probably also work in your case",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211955531904978974",
      "type": "Default",
      "timestamp": "2024-02-27T12:38:35.851+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I don't understand why you want to do this on the blockchain though",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211957123982827560",
      "type": "Default",
      "timestamp": "2024-02-27T12:44:55.432+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "MPC is probably the best solution to your problem though",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211957159735205909",
      "type": "Default",
      "timestamp": "2024-02-27T12:45:03.956+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "anything else is probably too much work",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1211957368607477830",
      "type": "Default",
      "timestamp": "2024-02-27T12:45:53.755+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "but there was a paper recently on eprint.iacr.org (can't find it anymore) that discussed a more general solution for private inputs and an output that is only known to a centralized server",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1212949277769207850",
      "type": "Default",
      "timestamp": "2024-03-01T06:27:23.328+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Thank you all！ FE and MPC are very useful, and I will spend time learning them. \n\nIf smart contract A calls B, changes states of A but does not change any states of B, will  Mina blockchain **publicly **record the operation of A calling B? For example, updating the state of A, ax, to its square value if ax is equal to the state of B, bx.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1212952757879967884",
      "type": "Default",
      "timestamp": "2024-03-01T06:41:13.051+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "https://github.com/o1-labs/o1js/issues/303 has more details about how it works, @ss",
      "author": {
        "id": "192258292544700426",
        "name": "3221229683",
        "discriminator": "0000",
        "nickname": "ember",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/192258292544700426/avatars/51c1b2617db4f40414b845f4749d10a9.png?size=512"
      },
      "attachments": [],
      "embeds": [
        {
          "title": "zkApp composability RFC · Issue #303 · o1-labs/o1js",
          "url": "https://github.com/o1-labs/o1js/issues/303",
          "timestamp": null,
          "description": "zkApp composability RFC \"zkApp composability\" refers to the ability to call zkApp methods from other zkApp methods. Technically, it uses the callData field on the zkApp party to connect t...",
          "color": "#1E2327",
          "thumbnail": {
            "url": "https://images-ext-1.discordapp.net/external/uY2yh8LBIaiNLuik0bxc1JCAoing0tH4GdQOxU-Dprs/https/opengraph.githubassets.com/403f0e868cc1d509b1011f5afcb71f5e9e8587be42a1549f1a602f0cbbbda504/o1-labs/o1js/issues/303",
            "width": 1200,
            "height": 600
          },
          "images": [],
          "fields": []
        }
      ],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "1186890131421012069",
          "name": "tenacious_mango_64264",
          "discriminator": "0000",
          "nickname": "ss",
          "color": null,
          "isBot": false,
          "roles": [],
          "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
        }
      ]
    },
    {
      "id": "1212953885329858642",
      "type": "Default",
      "timestamp": "2024-03-01T06:45:41.856+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "I think it depends on if B can be called without its method requiring any changes to the state.",
      "author": {
        "id": "192258292544700426",
        "name": "3221229683",
        "discriminator": "0000",
        "nickname": "ember",
        "color": "#FFFFFF",
        "isBot": false,
        "roles": [
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/192258292544700426/avatars/51c1b2617db4f40414b845f4749d10a9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213033301338750986",
      "type": "Default",
      "timestamp": "2024-03-01T12:01:16.108+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Thanks, @ember@O(1)!\n\n1. Are the inputs and outputs between smart contract calls always kept secret? From the above post, it seems to be the case.\n\n2. Can *Mina.fetchActions()* be used in a smart contract?\n\n3. If I set the address and action states of a smart contract as private inputs and call *Mina.fetchActions()* in my contract, would it be unknown to others which smart contract dispatched the actions I obtained?\n\n4. If the above is possible, can the secret actions be used for subsequent referencing and proving in my contract?\n\nI am new to Mina, so please explain each question one by one.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213569836219760701",
      "type": "Default",
      "timestamp": "2024-03-02T23:33:15.992+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "the input-output isn't kept secret in the way you'd expect,\nAFAIU its hashed and put into the call_data field",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213569926040653925",
      "type": "Default",
      "timestamp": "2024-03-02T23:33:37.407+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "hence if you want to make it secret, you want to do the call with encrypted data",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213569956504150128",
      "type": "Default",
      "timestamp": "2024-03-02T23:33:44.67+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "and you can decrypt it given the key as a witness",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213569977559420938",
      "type": "Default",
      "timestamp": "2024-03-02T23:33:49.69+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "in the smart contract circuit",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213570104671993918",
      "type": "Default",
      "timestamp": "2024-03-02T23:34:19.996+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "concretely you could hash the input with a salt and the output with a salt,\nand then \"undo\" the hashing if you know the salt",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213570935005904977",
      "type": "Default",
      "timestamp": "2024-03-02T23:37:37.963+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "@Las that's not correct. Call data is already a blinded/salted hash",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "140202196758167552",
          "name": "las0",
          "discriminator": "0000",
          "nickname": "Las",
          "color": "#E5DFBB",
          "isBot": false,
          "roles": [
            {
              "id": "1280898028529778789",
              "name": "Community Builder",
              "color": "#E5DFBB",
              "position": 26
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
        }
      ]
    },
    {
      "id": "1213572569865785424",
      "type": "Reply",
      "timestamp": "2024-03-02T23:44:07.744+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "salted with what?",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1213570935005904977",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1213572692460961833",
      "type": "Default",
      "timestamp": "2024-03-02T23:44:36.973+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "so I assume O1JS creates some random salt when you do the proving?",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213572703307432048",
      "type": "Default",
      "timestamp": "2024-03-02T23:44:39.559+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "and passes it around?",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213572719438864494",
      "type": "Default",
      "timestamp": "2024-03-02T23:44:43.405+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "nice",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1213572844118876200",
      "type": "Default",
      "timestamp": "2024-03-02T23:45:13.131+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "oh it says it in the RFC too",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "568421780331692042",
              "name": "mitschabaude",
              "discriminator": "0000",
              "nickname": "gregor",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1213573924692959263",
      "type": "Default",
      "timestamp": "2024-03-02T23:49:30.76+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "@gregor follow up:\nIt says\n`this.body.callData = Poseidon.hash([...inputs, ...outputs, methodIndex, blindingValue]);`\nBut then if the input is [1, 2], and the output [3],\nand another time, the input [1], and the output [2, 3], wouldn't that cause a collision?\nOr can you only have 1 output even though it's plural?",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ]
    },
    {
      "id": "1213574640660910172",
      "type": "Default",
      "timestamp": "2024-03-02T23:52:21.46+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Well, given the method index, it would have to be the same method.",
      "author": {
        "id": "140202196758167552",
        "name": "las0",
        "discriminator": "0000",
        "nickname": "Las",
        "color": "#E5DFBB",
        "isBot": false,
        "roles": [
          {
            "id": "1280898028529778789",
            "name": "Community Builder",
            "color": "#E5DFBB",
            "position": 26
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1214924169788137482",
      "type": "Reply",
      "timestamp": "2024-03-06T17:14:54.277+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Question 2. Can *Mina.fetchActions()* be used in a smart contract?\nMy answer is NO.  \nI tried to call *Mina.fetchActions()* in my smart contract, then got the message \"Error: pk.toBase58() was called on a variable public key `pk` in provable code. This is not supported, because variables represent an abstract computation,  which only carries actual values during proving, but not during compiling \".\nI think maybe it's because that *Mina.fetchActions()* is not a provable function.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [],
      "reference": {
        "messageId": "1213033301338750986",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1215049785103355915",
      "type": "Reply",
      "timestamp": "2024-03-07T01:34:03.302+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "We actually include the input / output length in the hash to prevent exactly that!",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "140202196758167552",
              "name": "las0",
              "discriminator": "0000",
              "nickname": "Las",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
            }
          ]
        }
      ],
      "mentions": [
        {
          "id": "140202196758167552",
          "name": "las0",
          "discriminator": "0000",
          "nickname": "Las",
          "color": "#E5DFBB",
          "isBot": false,
          "roles": [
            {
              "id": "1280898028529778789",
              "name": "Community Builder",
              "color": "#E5DFBB",
              "position": 26
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/140202196758167552/09906db085c1359960d2883ed15e8108.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1213574640660910172",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1215050518154715216",
      "type": "Reply",
      "timestamp": "2024-03-07T01:36:58.075+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Try reducer.getActions()!",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "1186890131421012069",
          "name": "tenacious_mango_64264",
          "discriminator": "0000",
          "nickname": "ss",
          "color": null,
          "isBot": false,
          "roles": [],
          "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1214924169788137482",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1215050630151016538",
      "type": "Default",
      "timestamp": "2024-03-07T01:37:24.777+04:00",
      "timestampEdited": "2024-03-07T01:37:32.805+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Or Mina.getActions()",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1216707598045413396",
      "type": "Reply",
      "timestamp": "2024-03-11T15:21:36.708+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Mina.getActions() gives the same error. reducer.getActions() works well.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1215050518154715216",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1217188791941468312",
      "type": "Default",
      "timestamp": "2024-03-12T23:13:42.273+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "@gregor I find that calling reducer.getActions() outside of its zkApp is different from calling a method outside of its zkApp. \nWhen zkApp B calls A.reducer.getActions() to prove something, it does not release A's address on the blockchain! \nTherefore, the public only knows that B has some value included in an action, but does not know which zkApp dispatched the action.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ]
    },
    {
      "id": "1217188886175023295",
      "type": "Default",
      "timestamp": "2024-03-12T23:14:04.74+04:00",
      "timestampEdited": "2024-03-12T23:27:18.746+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "My testing code is\n```\n//caller function in B, to prove num is in an action\n@method async isInAction(num: Field, zkAppAddress: PublicKey, path: MerkleWitness8, fromActionState: Field, endActionState: Field): Promise<Bool> {\n    let root = this.addrMT.getAndRequireEquals()\n    path.calculateRoot(Poseidon.hash(zkAppAddress.toFields())).assertEquals(root)\n\n    let square = new Square(zkAppAddress)\n    let actions = square.reducer.getActions({ endActionState, fromActionState })\n\n    let { state: isIn, actionState: _ } = square.reducer.reduce(\n      actions,\n      Bool,\n      (state: Bool, action: Field) => state.or(action.equals(num)),\n      { state: Bool(false), actionState: Reducer.initialActionState },\n      { skipActionStatePrecondition: true }\n    );\n    return isIn\n  }\n\n// run and test \nasync function exeIsInAction() {\n    let num = Field(81)\n    let squareAddress = PublicKey.fromBase58('B62qprYHU3HJF4818sQnhL95WUnbKqJTnnpKSHLs5JyXE8CxSc1FqGK')\n    let fromActionState = Field('13108992025371685346388615599346655913934623284188833260425419882342215712511')  \n    let endActionState = Field('9042767164624917296573804929737171067185480406011993971417260745295322794340')    \n  \n    const tree=new MerkleTree(8)\n    let v0=Poseidon.hash(squareAddress.toFields())\n    tree.setLeaf(0n,v0)\n    let w=tree.getWitness(0n)\n    let wit=new MerkleWitness8(w)\n\n    await fetchAccount({ publicKey: zkAppAddress })\n    let ret = Bool(false)\n    const tx = await Mina.transaction(senderSpec, async () => {\n        ret = await zkAppInstance.isInAction(num, squareAddress,wit, fromActionState,endActionState);\n    }\n    );\n    await tx.prove();\n    let pendingTx = await tx.sign([senderKey]).send();\n    if (pendingTx.hash() !== undefined) {\n        console.log(`Success! Transaction sent: ${pendingTx.hash()}`);\n    }\n\n    console.log('ret after tx:', ret.toString());\n}\n```\nThe tx is https://berkeley.minaexplorer.com/transaction/5JvNjrWCNxXU75jZqXMUvP5KYQhG3j7MTgY9eTfZrBAk9CJm8Nuq.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1217189074121658459",
      "type": "Default",
      "timestamp": "2024-03-12T23:14:49.55+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "From the tx, none can see any information about zkApp B (Square's address and which action state we are using), as the tx's call depth is 0.\n\nAm I correct? If I misunderstand, please clarify for me. Thank you!",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1217443422428987424",
      "type": "Default",
      "timestamp": "2024-03-13T16:05:30.912+04:00",
      "timestampEdited": "2024-03-13T16:10:02.589+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "@ss fundamentally, if no one can see zapp b, then the mina node can't verify that you're using actions actually related to that zapp account, so it allows the contract caller to make up any actions they like",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "1186890131421012069",
          "name": "tenacious_mango_64264",
          "discriminator": "0000",
          "nickname": "ss",
          "color": null,
          "isBot": false,
          "roles": [],
          "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
        }
      ]
    },
    {
      "id": "1217443499469832212",
      "type": "Default",
      "timestamp": "2024-03-13T16:05:49.28+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Concretely, you're missing the action state precondition on B",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1217443535591051384",
      "type": "Default",
      "timestamp": "2024-03-13T16:05:57.892+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Which reveals B",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1217478733481382020",
      "type": "Reply",
      "timestamp": "2024-03-13T18:25:49.723+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Do you mean that if I don't set a precondition in B's action state, it's possible that the archive node may fool me by providing incorrect action data, and other nodes will not be able to detect the abnormal behavior?",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1217443422428987424",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1217482940934520873",
      "type": "Reply",
      "timestamp": "2024-03-13T18:42:32.858+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "The above codes actually make a precondition on B's address. I checked that B's address is included in the Merkle tree, and the root of the tree was recorded in a field. After this, the tx still did not  reveal B's address.",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1217443422428987424",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1217574342335004716",
      "type": "Reply",
      "timestamp": "2024-03-14T00:45:44.65+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "It's not even the archive node fooling you, just anyone changing the code and passing different actions than the ones from getActions",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "1186890131421012069",
          "name": "tenacious_mango_64264",
          "discriminator": "0000",
          "nickname": "ss",
          "color": null,
          "isBot": false,
          "roles": [],
          "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1217478733481382020",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1217575240654393444",
      "type": "Default",
      "timestamp": "2024-03-14T00:49:18.826+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Precondition I mean is\nzkappBUpdate.account.actionState.requireEquals(actionState)",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1217651575716319293",
      "type": "Reply",
      "timestamp": "2024-03-14T05:52:38.523+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Thanks, Gregor. I've seen o1js example code using account.actionState.requireEquals() and I'll try it later.\n As you mentioned, Mina nodes only check the consistency between the on-chain verification key and the proof provided by the caller, which may be generated using a different code rather than the original smart contract code, if the design of the zkapp is not safe enough. Is my understanding correct?",
      "author": {
        "id": "1186890131421012069",
        "name": "tenacious_mango_64264",
        "discriminator": "0000",
        "nickname": "ss",
        "color": null,
        "isBot": false,
        "roles": [],
        "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "568421780331692042",
          "name": "mitschabaude",
          "discriminator": "0000",
          "nickname": "gregor",
          "color": "#6991D8",
          "isBot": false,
          "roles": [
            {
              "id": "751144417951219713",
              "name": "Core Engineers",
              "color": "#6991D8",
              "position": 122
            },
            {
              "id": "1075313326499823676",
              "name": "zkApp E2E Tester",
              "color": "#E74C3C",
              "position": 117
            },
            {
              "id": "916351299988107364",
              "name": "zkApps-bootcamp-2021",
              "color": "#F19924",
              "position": 95
            }
          ],
          "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1217575240654393444",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    },
    {
      "id": "1220795747872800849",
      "type": "Reply",
      "timestamp": "2024-03-22T22:06:27.581+04:00",
      "timestampEdited": "2024-03-22T22:06:52.784+04:00",
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Yes that understanding seems correct.\n\nYou can trust the part of a zkapp's logic that creates constraints and so goes into the proof.\n\nFetching the correct actions is not part of that logic (you can't prove data fetching)\n\nWhat Mina nodes also check, besides the proof, is preconditions that you add to your transaction. \"This transaction is only valid provided the current action state is ...\"\nThat's what we are doing here, to ensure no one can pass in different actions than the ones that were posted to the chain",
      "author": {
        "id": "568421780331692042",
        "name": "mitschabaude",
        "discriminator": "0000",
        "nickname": "gregor",
        "color": "#6991D8",
        "isBot": false,
        "roles": [
          {
            "id": "751144417951219713",
            "name": "Core Engineers",
            "color": "#6991D8",
            "position": 122
          },
          {
            "id": "1075313326499823676",
            "name": "zkApp E2E Tester",
            "color": "#E74C3C",
            "position": 117
          },
          {
            "id": "916351299988107364",
            "name": "zkApps-bootcamp-2021",
            "color": "#F19924",
            "position": 95
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/568421780331692042/e1669a88013d05eb102f3e9b75279562.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": [
        {
          "id": "1186890131421012069",
          "name": "tenacious_mango_64264",
          "discriminator": "0000",
          "nickname": "ss",
          "color": null,
          "isBot": false,
          "roles": [],
          "avatarUrl": "https://cdn.discordapp.com/avatars/1186890131421012069/fb7a8bda39452f3f559e2e731db569b9.png?size=512"
        }
      ],
      "reference": {
        "messageId": "1217651575716319293",
        "channelId": "1210437491530928158",
        "guildId": "484437221055922177"
      }
    }
  ],
  "messageCount": 51
}