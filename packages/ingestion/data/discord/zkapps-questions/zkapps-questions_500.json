{
  "guild": {
    "id": "484437221055922177",
    "name": "Mina Protocol",
    "iconUrl": "https://cdn.discordapp.com/icons/484437221055922177/60f5907d2f7e3804b704a7153cae7768.png?size=512"
  },
  "channel": {
    "id": "1187371623418970242",
    "type": "GuildPublicThread",
    "categoryId": "1047214314349658172",
    "category": "zkapps-questions",
    "name": "Why The Transaction Is So Expensive?",
    "topic": null
  },
  "dateRange": {
    "after": null,
    "before": null
  },
  "exportedAt": "2025-04-24T12:39:12.9935708+04:00",
  "messages": [
    {
      "id": "1187371623418970242",
      "type": "Default",
      "timestamp": "2023-12-21T16:30:55.321+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "When I run the code below inside a method it works as expected.\nBut when I uncomment the last line it gives this error.\nWhat might be the reason and how can I fix it?\n```ts\nconst baseToken = new Token(baseCurrency)\nconst quoteToken = new Token(quoteCurrency)\n\nbaseToken.transfer(this.sender, maker, amount) \n// quoteToken.transfer(this.address, this.sender, amount.mul(price)) //todo: fix this\n```",
      "author": {
        "id": "991037531615264808",
        "name": "berzanorg",
        "discriminator": "0000",
        "nickname": "berzan",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/991037531615264808/3ef91bfa9b67c5315e5c06f752a83ed9.png?size=512"
      },
      "attachments": [
        {
          "id": "1187371623607717888",
          "url": "https://cdn.discordapp.com/attachments/1187371623418970242/1187371623607717888/a604ef28-ea4b-4c6f-a030-647f4c3c1e30.png?ex=680ad7bf&is=6809863f&hm=334d2d3545e653c1a404fcb04def0dd0801072b8929383d1d511df16fae76efb&",
          "fileName": "a604ef28-ea4b-4c6f-a030-647f4c3c1e30.png",
          "fileSizeBytes": 293717
        }
      ],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1187373953988186272",
      "type": "Default",
      "timestamp": "2023-12-21T16:40:10.972+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "See https://github.com/bkase/MIPs/blob/66c60c48bc4d0710202f7573765ad526ca74905a/MIPS/mip-zkapps.md#fees-and-queueing:\n\n```\n  np := proof account updates\n  n2 := signedPair account updates\n  n1 := signedSingle account updates\n  \n  formula used to calculate how expensive a zkapp transaction is\n  10.26*np + 10.08*n2 + 9.14*n1 < 69.45\n```",
      "author": {
        "id": "964566918482784306",
        "name": "dfst.io",
        "discriminator": "0000",
        "nickname": "DFST",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1150768164850913322",
            "name": "zkIgnite Cohort 2",
            "color": "#E97404",
            "position": 96
          },
          {
            "id": "1285544625037115557",
            "name": "MinaCon",
            "color": "#FAFFD6",
            "position": 25
          },
          {
            "id": "1205541869375979601",
            "name": "UMT",
            "color": "#FFFFFF",
            "position": 22
          },
          {
            "id": "1220065449098743838",
            "name": "Node-Operations",
            "color": "#FFFFFF",
            "position": 20
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          },
          {
            "id": "1220065628602503188",
            "name": "Testing",
            "color": "#FFFFFF",
            "position": 18
          },
          {
            "id": "1291345674213920768",
            "name": "Rust-Node",
            "color": "#FFF7F7",
            "position": 17
          },
          {
            "id": "1259816280605851648",
            "name": "Links and Images",
            "color": "#FFFFFE",
            "position": 12
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "991037531615264808",
              "name": "berzanorg",
              "discriminator": "0000",
              "nickname": "berzan",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/avatars/991037531615264808/3ef91bfa9b67c5315e5c06f752a83ed9.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    },
    {
      "id": "1188482245539938375",
      "type": "Default",
      "timestamp": "2023-12-24T18:04:08.269+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "Hey I fixed this issue for my Exchange contract.\n\nMy method tries to create two different token accounts if they don't exist yet.\nI've found a way to prevent this. \nI create token accounts in different transactions before calling my method.\nSo it doesn't try to create new token accounts.\n```ts\nconst tx1 = await Mina.transaction(satoshiPubkey, () => {\n    AccountUpdate.fundNewAccount(satoshiPubkey)\n    const update = AccountUpdate.createSigned(satoshiPubkey, usdTokenZkapp.token.id)\n    usdTokenZkapp.approveUpdate(update)\n})\n```",
      "author": {
        "id": "991037531615264808",
        "name": "berzanorg",
        "discriminator": "0000",
        "nickname": "berzan",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/991037531615264808/3ef91bfa9b67c5315e5c06f752a83ed9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [],
      "mentions": []
    },
    {
      "id": "1188482378688110612",
      "type": "Default",
      "timestamp": "2023-12-24T18:04:40.014+04:00",
      "timestampEdited": null,
      "callEndedTimestamp": null,
      "isPinned": false,
      "content": "This is how I create token accounts.",
      "author": {
        "id": "991037531615264808",
        "name": "berzanorg",
        "discriminator": "0000",
        "nickname": "berzan",
        "color": "#FA7504",
        "isBot": false,
        "roles": [
          {
            "id": "1182371055923376168",
            "name": "Mina Navigator",
            "color": "#FA7504",
            "position": 100
          },
          {
            "id": "1220064445863038996",
            "name": "zkApps",
            "color": "#FFFFFF",
            "position": 19
          }
        ],
        "avatarUrl": "https://cdn.discordapp.com/avatars/991037531615264808/3ef91bfa9b67c5315e5c06f752a83ed9.png?size=512"
      },
      "attachments": [],
      "embeds": [],
      "stickers": [],
      "reactions": [
        {
          "emoji": {
            "id": "",
            "name": "\uD83D\uDC4D",
            "code": "thumbsup",
            "isAnimated": false,
            "imageUrl": "https://cdn.jsdelivr.net/gh/twitter/twemoji@latest/assets/svg/1f44d.svg"
          },
          "count": 1,
          "users": [
            {
              "id": "964566918482784306",
              "name": "dfst.io",
              "discriminator": "0000",
              "nickname": "DFST",
              "isBot": false,
              "avatarUrl": "https://cdn.discordapp.com/guilds/484437221055922177/users/964566918482784306/avatars/6d2f9b5ac3d3e9135840e45e13230dd8.png?size=512"
            }
          ]
        }
      ],
      "mentions": []
    }
  ],
  "messageCount": 4
}